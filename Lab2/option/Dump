package option;
import java.io.BufferedWriter;
import java.io.FileWriter;
import java.util.*;
import java.util.logging.Level;
import java.util.logging.Logger;
import Exceptions.*;

public class Dump implements Option{
    static Logger logger = Logger.getLogger(Sort.class.getName());

    public void execute(ArrayList<String> text, Vector<String> args) throws Exception {
        logger.info("Beginning..");
        if (args.size() != 1) {
            logger.log(Level.WARNING, "Number of arguments for dump isn't 1");
            throw new WrongNumberOfArgs("Number of arguments for dump  isn't 1");
        }

        FileWriter writer;
        BufferedWriter printer = null;

        try {
            writer = new FileWriter(args.get(0));
            printer = new BufferedWriter(writer);

            for (String i : text) {
                printer.write(i + System.lineSeparator());
            }
            logger.info("Job successful");
        } catch (Exception ex) {
            logger.log(Level.WARNING, "There are some troubles");
        }
        finally {
            if (printer != null) {
                printer.close();
            }
        }
    }
    public OptionType getType() {
        return OptionType.IN_OUT_TYPE;

    }
}
